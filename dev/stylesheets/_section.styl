/* Shutter *****************************************************************/

.mainShutter
  display         none
  pointer-events  none
  @media screen and (min-width $laptop['min-width'])
    .js &
      display block
      



.mainShutter--wrapper
  position fixed
  top 0
  bottom 0
  left 0
  right 0

  &:nth-child(even)
    .flap
      // background-color red
      background-color white
     



.shutter
  position absolute
  width 300%
  height 300%
  overflow hidden
  
  &.shutter_ne
    transform-origin 0% 100%
    transform translate3d(0, -100%, 0) rotate(45deg)
    
  &.shutter_sw
    transform-origin 0% 0%
    transform translate3d(0, -1px, 0) rotate(45deg)
    



.flap
  background-color black
  // background-color blue
  position absolute
  width 100%
  height 100%
  transform-origin 0% 0%
  margin-left 130vh
  
  .shutter_ne &
    transform-origin 0% 100%
    transform translate3d(10%, 0, 0) rotate(65deg)
    .mainShutter_00 &
      transform translate3d(0, 0 ,0) rotate(65deg)
    
  .shutter_sw &
    transform translate3d(10%, 0, 0) rotate(-65deg)
    .mainShutter_00 &
      transform translate3d(0, 0, 0) rotate(-65deg)
  

    
        
.nextSection--navigation
.nextSection--stroke
  display none
  
  @media screen and (min-width $laptop['min-width'])
    display           block
    width             100%
    height            1px
    position          fixed
    top               0
    left              0
    opacity           1
    transform-origin  0 100%
    transform         rotate(45deg) translateY(-1px)
    transition        opacity $t-slow ease-out


.nextSection--stroke
  border-bottom 1px solid $grey_light 
  
.nextSection--navigation
  // Targets the section nav arrow when the last section is visible
  section:last-of-type.is_visible + &
    opacity 0
    transition        opacity $t-fast ease-in


.nextSection--arrowWrapper
  position relative
  display  block
  width    32px
  height   @width
  margin   -(@width/2) 0 0 133vh
    
  .nextSection--arrow
    position        absolute
    width           100%
    height          @width
    background      transparent url("/_assets/i/__nav_next_section.svg") no-repeat
    background-size cover
    
    transition      opacity $t-fast ease-in
    
    &.nextSection--arrow-white
      background-position left center
      opacity 0
      
      .even &
        opacity 1

    &.nextSection--arrow-black
      background-position right center
      opacity 1
      
      .even &
        opacity 0

    
    
  


