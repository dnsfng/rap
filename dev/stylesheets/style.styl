/******************************************************************************/
/* General ********************************************************************/

html
body
  background-color white
  

html
  font-size 100%
  -webkit-text-size-adjust 100%
  -ms-text-size-adjust     100%


body
  font em(16)\/em(24) mg, Arial, sans-serif normal

/* Less Than IE10 ********************************************************************/  

.lt-ie10
    
  .browsehappy--disclaimer
    text-align center
    padding $paddingViewport-mobile
    
  .nextSection--arrowWrapper
    .nextSection--arrow
      background-image none


/* Mail icon ********************************************************************/

.mail--icon
  background      transparent url("/_assets/i/__nav_mail.svg") no-repeat
  background-size cover
  transition      transform $t-fast ease-in
  
  &.mail--icon-white
    background-position right center

  &.mail--icon-black
    background-position left center
    
  &:hover
    transform scale(1.05)
    


/* Mail icon ********************************************************************/

.logoSymbol--wrapper
  display none

.logo--icon
  background transparent url("/_assets/i/__nav_logo.svg") no-repeat
  background-size cover
  
  &.logo--icon-white
    background-position right center

  &.logo--icon-black
    background-position left center
              



/******************************************************************************/
/* Main sections **************************************************************/

section
  color black
  background transparent url("/_assets/i/_parallelepipede_white.svg") no-repeat left -1px
  background-size 1280px

  @media screen and (min-width $laptop['min-width'])
    .js &
      background transparent none
      
  &.odd
    color white
    background transparent url("/_assets/i/_parallelepipede_black.svg") no-repeat left top
    background-size 1280px
    
    @media screen and (min-width $laptop['min-width'])
      .js &
        background transparent none
      


  // .mainShutter--wrapper
  //   @media screen and (max-width $laptop['max-width'])
  //     position  absolute 
  //     width     100%
  //     height    100%
  //     left      50%
  //     top       50%
  //     transform-origin 50% 50%
  //     transform translateX(-50%) translateY(-50%) rotate(45deg) //scale(4,1)
  //     background-color white
      
  //     &:before
  //     &:after
  //       fakeContent()
  //       width 100%
  //       height 30%
  //       bottom 99%
  //       background-color rgba(white)
        
  //     &:after
  //       height 50%
  //       top 99%
         
  //   @media screen and (min-width 420px)and (max-width $laptop['max-width'])
  //     &:before
  //       height 20%
        
  //     &:after
  //       height 40%
        
  //   @media screen and (min-width 600px)and (max-width $laptop['max-width'])        
  //     &:after
  //       height 30%
        
  //   @media screen and (min-width 960px)and (max-width $laptop['max-width'])
  //     &:before
  //       height 15%
        
  //     &:after
  //       height 20%
  
  // &.odd .mainShutter--wrapper
  //   background-color black
    
  //   &:before
  //   &:after
  //     background-color rgba(black,0.9)
  
  .section--wrapper
    position relative
    z-index 10

  
  // &:before
  // &:after
  //   fakeContent()
  //   width         0
  //   height        0
  //   border-style  solid
  //   @media screen and (min-width $laptop['min-width'])
  //     .js &
  //       content none

  // &:before
  //   bottom        100%
  //   right         0%
  //   border-width  100vw 0 0 100vw
  //   border-color  transparent transparent transparent white

  // &:after
  //   top           100%
  //   left          0%
  //   border-width  0 100vw 100vw 0
  //   border-color  transparent white transparent transparent
    

  // &.odd
  //   color white
  //   background-color black
  //   @media screen and (min-width $laptop['min-width'])
  //     .js &
  //       background-color transparent

  //   &:before
  //     border-color transparent transparent transparent black

  //   &:after
  //     border-color transparent black transparent transparent 

  
  // &:first-child:before
  // &:first-child:after
  //   content none /*remove :after & :before triangle on .section--intro so
  //   before diagonal stays visible*/

  // &.section--image
  //   color white

  //   &:before
  //   &:after
  //     content none

  // &:nth-last-child(3):after
  //   content none




// Components

.section--title
  font-size       em(35)
  text-transform  uppercase
  MissionGothic-Black()
  
.section--description
  * + *
    margin-top em(24)

@media screen and (min-width 600px)
  .section--title
    font-size   em(40)

  .section--description
  .reference--description
    font-size   em(18)
    line-height em(28/@font-size)

@media screen and (min-width $tabletPortrait['width'])
  .section--title
    font-size   em(52)

  .section--description
  .reference--description
    font-size   em(22)
    line-height em(32/@font-size)
    

@media screen and (min-width $laptop['min-width']) and ( min-height $laptop['height-small'])
  .section--title
    font-size   em(40)
    
  .section--description
  .reference--description
    font-size   em(22)
    line-height em(28/@font-size)
    

@media screen and (min-width $laptop['min-width']) and ( min-height $laptop['height-regular'])
  .section--title
    font-size   em(48)
    
    
@media screen and (min-width $laptop['min-width']) and ( min-height $laptop['height-large'])
  .section--title
    font-size   em(60)
    

@media screen and (min-width $desktop)
  .section--description
  .reference--description
    font-size   em(26)
    line-height em(32/@font-size)
  



/* Section--intro *****************************************************************/

.logo
  &:visited
    color black

  &:before,
  &:after
    left              50%
    height            1px
    background-color  lighten(black,75%)
    transform-origin  0% 0%
    
  &:before
    fakeContent()
    width       200%
    top         0%
    left        50%
    margin-left - $logo-image-padding - ($logo-image-size/2)px
    margin-top  - $logo-image-padding
    transform   rotate(45*5deg)

  &:after
    width     200%
    transform rotate(45deg)
    
  .logo--image
    background-color white
  
  @media screen and (min-width $tabletPortrait['width'])
    &:before
    &:after
      fakeContent()

    &:before
      margin-left - $logo-image-padding - ($logo-image-size_tablet/2)px

    &:after
      bottom      - $logo-image-padding
      margin-left $logo-image-size_tablet + $logo-image-padding

  @media screen and (min-width $tabletLandscape['width'])
    &:before
      left        0%
      margin-left - $logo-image-padding

    &:after
      top         $logo-image-size_laptop + $logo-image-padding
      bottom      auto
      left        @top
      margin-left auto
      
  @media screen and (min-width $laptop['min-width'])
    &:before
    &:after
      content none
      



aside
  strong
    font-weight normal

  .intro--baseline
    font-size 1em
    MissionGothic-Thin()
    text-align center

    @media screen and (min-height $phoneLandscape['height']+1)
      font-size   em(22)
      line-height em(26/@font-size)
    
    @media screen and (min-width $tabletLandscape['width'])
      text-align left  
      
    @media screen and (min-width $desktop) 
      font-size em(30)

  .error--baseline
    @extends aside .intro--baseline
    margin-top $step*10

  .error--link
    @extend aside .intro--baseline
    a
      color           black
      text-decoration underline




/* Section--image *****************************************************************/

.section--image
  background-size cover
  @media screen and (min-width $laptop['min-width'])
    background-image none !important 
    
  .bgImage
    @media screen and (max-width $laptop['max-width'])
      background-color transparent
      background-repeat no-repeat, no-repeat
      background-position left top, right bottom

      .odd + &
        background-image url("/_assets/i/_triangle_NE_black.svg"),
                         url("/_assets/i/_triangle_SW_white.svg") !important
     
      .even + &
        background-image url("/_assets/i/_triangle_NE_white.svg"),
                         url("/_assets/i/_triangle_SW_black.svg") !important
     
    

/* Section--references *****************************************************************/

.reference--item
      
  a
    border $diamond__border-size solid lighten(black,75%)

  .reference--itemLayer
    opacity     0
    transition  opacity $t-fast ease-in-out

  .reference--content
    color black
  
  .reference--content-image
    width auto
    height $step*8
    background-size cover
    background-position center bottom

  &:hover
    position  relative

    a
      border-color transparent

    .reference--itemLayer
      opacity 1

    .reference--content
      color white
      
    .reference--content-image
      background-position left top
      



.section__references--pattern
  .js &
    @media screen and (min-width $laptop['min-width'])
      background transparent url("/_assets/i/__ref_diamond_pattern.svg") repeat 0 1px
      background-size 179px 179px
      
    @media screen and (min-width $desktop)
      background-image url("/_assets/i/__ref_diamond_pattern_xl.svg")
      background-size 229px 229px
    

